Don't do this in R. It's just way too much recoding and I don't want to try and troubleshoot all of it. 

If you have a copy of Stata, run the Stata code on a fresh GSS download. 

If you want a shortcut, here's a .dta file that has the reltrad variables already baked in: 

https://goo.gl/gh87Jn

The file is about 400mb, so it will take a while to download. 

You can read it into R with the haven package. 

Here's a tutorial on how to load data in R. 

http://rpubs.com/ryanburge/loading_data








